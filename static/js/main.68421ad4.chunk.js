(this["webpackJsonpfit-house"]=this["webpackJsonpfit-house"]||[]).push([[0],{16:function(e,t,a){e.exports={tag:"card_tag__6toq1",card:"card_card__1ur4B",img:"card_img__b35ZU",info:"card_info__4P5R3",title:"card_title__2OoqU",description:"card_description__1MaqQ"}},18:function(e,t,a){e.exports={name:"header_name__2i9By",basket:"header_basket__3Vp-7",icon:"header_icon__JwCEA"}},31:function(e,t,a){e.exports={sel:"filter_sel__1YdNo"}},33:function(e,t,a){e.exports=a(47)},38:function(e,t,a){},39:function(e,t,a){},4:function(e,t,a){e.exports={img:"service_img__NG-WI",info:"service_info__3X3pP",title:"service_title__2eUOa",description:"service_description__2b1MW",property:"service_property__2BlhX",name:"service_name__3xEpm",value:"service_value__1QB3E",buy:"service_buy__2GxNe",price:"service_price__38Lul",num:"service_num__3ag9K",money:"service_money__uACSt",botton:"service_botton__rrac6"}},47:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(25),i=a.n(c),s=(a(38),a(6)),o=a(7),l=a(9),u=a(8),m=a(12),p=a(10),h=(a(39),a(18)),d=a.n(h),f=a(26),v=a(27),_=a(14),b=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"headerContent"},r.a.createElement("nav",{className:d.a.name},r.a.createElement(_.b,{to:"/FitnessHouse/"}," Fitness House Market ")),r.a.createElement("div",{className:d.a.basket},r.a.createElement("span",{id:"counter"},this.props.basket.count),r.a.createElement(f.a,{icon:v.a,className:d.a.icon}),"\u041a\u043e\u0440\u0437\u0438\u043d\u0430")))}}]),t}(r.a.Component),E=a(30),g=a(32),y=a(16),j=a.n(y);var O=function(e){var t=e.card.image,a=e.card.title,n=e.card.description.length>100?"".concat(e.card.description.slice(0,100),"..."):e.card.description,c=e.card.properties.map((function(e){return r.a.createElement("div",{key:e.title,className:j.a.tag},"#".concat(e.value))})),i=e.card.alias;return r.a.createElement("article",{className:j.a.card},r.a.createElement("figure",{className:j.a.img},r.a.createElement(_.b,{to:"/FitnessHouse/service/".concat(i)},r.a.createElement("img",{src:t,alt:a}))),r.a.createElement("div",{className:j.a.info},r.a.createElement("h1",{className:j.a.title},a),r.a.createElement("p",{className:j.a.description},n),c))},N=a(31),k=a.n(N),C=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).changeSelect=a.changeSelect.bind(Object(m.a)(a)),a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"changeSelect",value:function(e,t){this.props.onFilterChange(e,t)}},{key:"render",value:function(){var e=this,t=this.props.data.map((function(t){return r.a.createElement("select",{key:t.prop,className:k.a.sel,value:e.props.state[t.prop],onChange:function(a){return e.changeSelect(t.prop,a.target.value)}},r.a.createElement("option",{value:""},t.prop),t.value.map((function(e){return r.a.createElement("option",{key:e},e)})))}));return r.a.createElement("section",{className:"filter"},t)}}]),t}(r.a.Component),w=function(e){function t(e){var a;Object(s.a)(this,t);var n=function(e){var t=e.map((function(e){return e.properties.map((function(e){return e.title}))})).reduce((function(e,t){return e.push.apply(e,Object(g.a)(t)),e})),a=new Set(t);return(a=Array.from(a)).map((function(t){var a={};a.prop=t;var n=new Set,r=!0,c=!1,i=void 0;try{for(var s,o=e[Symbol.iterator]();!(r=(s=o.next()).done);r=!0){var l=s.value,u=!0,m=!1,p=void 0;try{for(var h,d=l.properties[Symbol.iterator]();!(u=(h=d.next()).done);u=!0){var f=h.value;f.title===t&&n.add(f.value)}}catch(v){m=!0,p=v}finally{try{u||null==d.return||d.return()}finally{if(m)throw p}}}}catch(v){c=!0,i=v}finally{try{r||null==o.return||o.return()}finally{if(c)throw i}}return a.value=Array.from(n),a}))}(e.cards);return(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state=function(e){var t={};return e.forEach((function(e){return t[e.prop]=""})),t}(n),a.optionsList=n,a.handleFilter=a.handleFilter.bind(Object(m.a)(a)),a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"handleFilter",value:function(e,t){this.setState(Object(E.a)({},e,t))}},{key:"getCards",value:function(e,t){return e.filter((function(e){var a=function(e){var t={};return e.forEach((function(e){t[e.title]=e.value})),t}(e.properties);for(var n in t)if(""!==t[n]&&t[n]!==a[n])return!1;return!0}))}},{key:"render",value:function(){var e=this.props.cards,t=this.state,a=this.getCards(e,t).map((function(e){return r.a.createElement(O,{key:e.title,card:e})}));return r.a.createElement("section",{className:"gallery"},r.a.createElement(C,{data:this.optionsList,state:this.state,onFilterChange:this.handleFilter}),a)}}]),t}(r.a.Component),F=a(4),S=a.n(F),x=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.location.pathname.split("/"),t=e[e.length-1],a=this.props.cards.filter((function(e){return e.alias===t}))[0],n=a.image,c=a.title,i=a.description,s=a.properties.map((function(e){return r.a.createElement("p",{key:e.title,className:S.a.property},r.a.createElement("span",{className:S.a.name},"".concat(e.title," - ")),r.a.createElement("span",{className:S.a.value},e.value))})),o="".concat(a.price);return o="".concat(o.slice(0,1)," ").concat(o.slice(1)),r.a.createElement("article",{className:"service"},r.a.createElement("figure",{className:S.a.img},r.a.createElement("img",{src:n,alt:c})),r.a.createElement("div",{className:S.a.info},r.a.createElement("h1",{className:S.a.title},c),r.a.createElement("p",{className:S.a.description},i),s,r.a.createElement("div",{className:S.a.buy},r.a.createElement("div",{className:S.a.price},r.a.createElement("span",{className:S.a.num},o),r.a.createElement("span",{className:S.a.money},"\u0440\u0443\u0431.")),r.a.createElement("div",{className:S.a.botton,onClick:this.props.handle},"\u041a\u0443\u043f\u0438\u0442\u044c"))))}}]),t}(r.a.Component),B=a(13);var A,H=function(e){var t=e.data,a=e.handleChangeCound;return r.a.createElement("main",{className:"content"},r.a.createElement(B.a,{exact:!0,path:"/FitnessHouse/",render:function(e){return r.a.createElement(w,Object.assign({cards:t},e))}}),r.a.createElement(B.a,{path:"/FitnessHouse/service",render:function(e){return r.a.createElement(x,Object.assign({cards:t,handle:a},e))}}))},W=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={count:0},a.changeCount=a.changeCount.bind(Object(m.a)(a)),a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"changeCount",value:function(){var e=this.state.count+1;this.setState({count:e})}},{key:"render",value:function(){return r.a.createElement(_.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(b,{basket:this.state}),r.a.createElement(H,{data:this.props.data,handleChangeCound:this.changeCount})))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));fetch("https://raw.githubusercontent.com/fhcs/test-task-web/master/public/data/services.json").then((function(e){if(e.ok)return e.json()})).then((function(e){A=e.services,i.a.render(r.a.createElement(W,{data:A}),document.getElementById("root"))})).catch((function(e){return console.log(e)})),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[33,1,2]]]);
//# sourceMappingURL=main.68421ad4.chunk.js.map